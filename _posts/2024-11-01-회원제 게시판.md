---
title: ğŸ§‘â€ğŸ’» ê°œì¸ í”„ë¡œì íŠ¸ - íšŒì›ì œ ê²Œì‹œíŒ ë§Œë“¤ê¸°(JAVA)
date: 2024-11-01 10:00:00 +0900
categories: [í”„ë¡œì íŠ¸, ê°œì¸ í”„ë¡œì íŠ¸]
tags:
  [
    JAVA,
    ê²Œì‹œíŒ
    .
    .
    .
  ]
description: "JWT í† í° ê¸°ë°˜ íšŒì›ì œ ê²Œì‹œíŒ Maven Project ì…ë‹ˆë‹¤."
---

---

## <span class="centered-title">**JAVA íšŒì›ì œ ê²Œì‹œíŒ êµ¬í˜„**</span>

<div class="github-links-container2">
  <div class="github-link-box" onclick="window.open('https://github.com/yoonbin106/PersonalProject2.git', '_blank')">
    <img src="/assets/img/favicons/ê¹ƒí—ˆë¸Œ.png" alt="ê¹ƒí—ˆë¸Œ ë§í¬" class="github-icon">
    <span class="github-text">Project code<span style="color:black"> - BackEnd</span></span>
  </div>
</div>

---

### <span class="larger-text" style="display: block; margin-bottom:-10px;">1. **í”„ë¡œì íŠ¸ ì†Œê°œ**</span>

ã…¤ì´ í”„ë¡œì íŠ¸ëŠ” JAVAë¡œ êµ¬í˜„ëœ íšŒì›ì œ ê²Œì‹œíŒ ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤.

ã…¤ì‚¬ìš©ìëŠ” íšŒì›ê°€ì…ì„ í†µí•´ ê²Œì‹œê¸€ ë“±ë¡, ìˆ˜ì •, ì‚­ì œ, ì¡°íšŒë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ã…¤
<div class="underline-container5">
    <span class="personal2">ê°œë°œí™˜ê²½</span>
    <span style="margin-left:10px">Eclipse / JDK 17</span>
</div>

<div class="underline-container5">
    <span class="personal2">ì„œë²„</span>
    <span style="margin-left:10px">Apache Tomcat/10.1.31</span>
</div>

<div class="underline-container5">
    <span class="personal2">ë°ì´í„° ë² ì´ìŠ¤</span>
    <span style="margin-left:10px">Oracle Database 18c Express Edition</span>
</div>

---

### <span class="larger-text" style="display: block; margin-bottom:-10px;">2. **í”„ë¡œì íŠ¸ êµ¬ì¡°**</span>
> ìƒì„¸ êµ¬ì¡°ëŠ” í˜ì´ì§€ ìƒë‹¨ì˜ ê¹ƒí—ˆë¸Œ ë§í¬ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”
{: .prompt-info }

<pre class = "structure" style="margin-left:25px; margin-bottom:30px;">
ğŸ“src
&nbsp;&nbsp;â””â”€â”€ğŸ“main
    &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“java
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“controller - ğŸ“„ê²Œì‹œíŒ CRUD, ë¡œê·¸ì¸, íšŒì›ê°€ì…ìš© ì»¨íŠ¸ë¡¤ëŸ¬
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“filter -ğŸ“„í† í° ê¸°ë°˜ ì‚¬ìš©ì ì¸ì¦ ì²˜ë¦¬ í•„í„°
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“listener -ğŸ“„ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘, ì¢…ë£Œ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë¦¬ìŠ¤ë„ˆ
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“model - ğŸ“„í˜ì´ì§• ì²˜ë¦¬ ë° UI ìƒì„± ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“resources
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“service
    &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“webapp
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“bbspage - ğŸ“„ê²Œì‹œíŒ í˜ì´ì§€ CRUD ê´€ë ¨ ë¡œì§ 
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“connectionpool
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“META_INF
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“page - ğŸ“„íšŒì›ê°€ì… , ë¡œê·¸ì¸ , í™ˆ í˜ì´ì§€ ê´€ë ¨ ë¡œì§
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“template 
          &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ğŸ“WEB-INF
</pre>

---

### <span class="larger-text" style="display: block; margin-bottom:-10px;">3. **ì£¼ìš” ì½”ë“œ**</span>

> ìƒì„¸ ì½”ë“œëŠ” í˜ì´ì§€ ìƒë‹¨ì˜ ê¹ƒí—ˆë¸Œ ë§í¬ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”
{: .prompt-info }

<div class="little-one">
<span class="little-title">(1) ë¡œê·¸ì¸</span>
</div>
<details>
  <summary class="custom-summary2">LoginController.java</summary>
  <div class="info-box">
    <p>ì•„ë˜ ì½”ë“œëŠ” ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ëŠ” ì„œë¸”ë¦¿ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê²€ì¦í•˜ê³  ì¸ì¦ëœ ì‚¬ìš©ìì˜ ì„¸ì…˜ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>
    <p>ì„±ê³µì ì¸ ë¡œê·¸ì¸ ì‹œ í† í°ì„ ë°œê¸‰í•˜ì—¬ ì¿ í‚¤ì™€ ì„¸ì…˜ì— ì €ì¥í•˜ê³ , ë¡œê·¸ì¸ ì„±ê³µ í›„ ì§€ì •ëœ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜í•©ë‹ˆë‹¤.</p>
    <p>ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë¡œê·¸ì¸ í˜ì´ì§€ì— ì „ë‹¬í•©ë‹ˆë‹¤.</p>
  </div>

  <div class="toggle-content">
    <pre class="code-box">
      <button class="copy-button">Copy</button>
      <button class="close-button">Close</button>
      <code class="language-java">
  @WebServlet("/LoginController")
  public class LoginController extends HttpServlet {
      private static final long serialVersionUID = 1L;

      // POST ìš”ì²­ ì²˜ë¦¬
      protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
          request.setCharacterEncoding("UTF-8");  // í•œê¸€ ì¸ì½”ë”© ì„¤ì •

          String username = request.getParameter("username");  // ì…ë ¥ë°›ì€ ì•„ì´ë””
          String password = request.getParameter("password");  // ì…ë ¥ë°›ì€ ë¹„ë°€ë²ˆí˜¸

          // ê°„ë‹¨í•œ ìœ íš¨ì„± ê²€ì‚¬ (ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ê°€ ë¹„ì–´ìˆì§€ ì•Šì€ì§€ í™•ì¸)
          if (username == null || username.trim().isEmpty() || password == null || password.isEmpty()) {
              handleError(request, response, "ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”");
              return;
          }

          UserDAO userDAO = new UserDAO();  // ì‚¬ìš©ì ê²€ì¦ì„ ìœ„í•œ UserDAO ê°ì²´ ìƒì„±

          // ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ ê²€ì¦
          if (userDAO.validateUser(username, password)) {
              // ì¸ì¦ ì„±ê³µ ì‹œ í† í° ë°œê¸‰
              String token = userDAO.issueToken(username);  // ì‚¬ìš©ìì—ê²Œ ë°œê¸‰í•  í† í° ìƒì„±
              Cookie tokenCookie = new Cookie("token", token);  // í† í°ì„ ì¿ í‚¤ë¡œ ìƒì„±
              tokenCookie.setMaxAge(60 * 60 * 24 * 7); // ì¿ í‚¤ ìœ íš¨ê¸°ê°„ ì„¤ì • (7ì¼)
              response.addCookie(tokenCookie);  // ì¿ í‚¤ë¥¼ ì‘ë‹µì— ì¶”ê°€

            // HttpSessionì„ ì´ìš©í•˜ì—¬ ì‚¬ìš©ì ì •ë³´ ì €ì¥
            HttpSession session = request.getSession();  // ì„¸ì…˜ ìƒì„±
            request.getSession().setAttribute("token", token);  // ì„¸ì…˜ì— í† í° ì €ì¥
            session.setAttribute("token", token);  // ì„¸ì…˜ì— í† í° ì €ì¥
            session.setAttribute("username", username);  // ì„¸ì…˜ì— ì‚¬ìš©ì ì´ë¦„ ì €ì¥

            // ë¡œê·¸ì¸ ì„±ê³µ í›„ í˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰íŠ¸
            response.sendRedirect(request.getContextPath() + "/page/LoginOk.jsp");
        } else {
            // ì¸ì¦ ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥
            handleError(request, response, "ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤");
        }
    }

    // ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë¡œê·¸ì¸ í˜ì´ì§€ì— ì „ë‹¬í•˜ëŠ” ë©”ì†Œë“œ
    private void handleError(HttpServletRequest request, HttpServletResponse response, String message) throws ServletException, IOException {
        request.setAttribute("errorMessage", message);  // ì—ëŸ¬ ë©”ì‹œì§€ ì„¤ì •
        request.getRequestDispatcher("/page/Login.jsp").forward(request, response);  // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ í¬ì›Œë“œ
    }
}
      </code>
    </pre>
  </div>
</details>


<details>
  <summary class="custom-summary2">LogoutController.java</summary>
  <div class="info-box">
    <p>ì•„ë˜ ì½”ë“œëŠ” ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ëŠ” ì„œë¸”ë¦¿ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ë¡œê·¸ì•„ì›ƒì„ ìš”ì²­í•˜ë©´ ì„¸ì…˜ê³¼ ì¿ í‚¤ë¥¼ ì´ˆê¸°í™”í•˜ê³ , ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•©ë‹ˆë‹¤.</p>
    <p>POST ìš”ì²­ì—ì„œ ì„¸ì…˜ì„ ë¬´íš¨í™”í•˜ê³ , "token"ì´ë¼ëŠ” ì´ë¦„ì˜ ì¿ í‚¤ë¥¼ ì‚­ì œí•œ í›„ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.</p>
  </div>

  <div class="toggle-content">
    <pre class="code-box">
      <button class="copy-button">Copy</button>
      <button class="close-button">Close</button>
      <code class="language-java">
  @WebServlet("/LogoutController")
  public class LogoutController extends HttpServlet {
      private static final long serialVersionUID = 1L;

      // POST ìš”ì²­ ì²˜ë¦¬
      protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
          // ì„¸ì…˜ ë¬´íš¨í™”
          request.getSession().invalidate();  // ì„¸ì…˜ ì´ˆê¸°í™”

          // "token" ì¿ í‚¤ ì‚­ì œ
          Cookie[] cookies = request.getCookies();  // ìš”ì²­ì—ì„œ ëª¨ë“  ì¿ í‚¤ë¥¼ ê°€ì ¸ì˜´
          if (cookies != null) {
              for (Cookie cookie : cookies) {
                  if (cookie.getName().equals("token")) {  // "token" ì¿ í‚¤ ì°¾ê¸°
                      cookie.setMaxAge(0);  // ì¿ í‚¤ ìœ íš¨ê¸°ê°„ì„ 0ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ì‚­ì œ
                      response.addCookie(cookie);  // ì‚­ì œëœ ì¿ í‚¤ë¥¼ ì‘ë‹µì— ì¶”ê°€
                      break;  // ë” ì´ìƒ ë°˜ë³µí•  í•„ìš” ì—†ìŒ
                  }
              }
          }

          // ë¡œê·¸ì•„ì›ƒ í›„ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
          response.sendRedirect(request.getContextPath() + "/page/Login.jsp");  // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
      }

      // GET ìš”ì²­ì„ POST ìš”ì²­ìœ¼ë¡œ ì²˜ë¦¬
      protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
          doPost(request, response);  // GET ìš”ì²­ì€ POST ìš”ì²­ìœ¼ë¡œ ì²˜ë¦¬
      }
  }
      </code>
    </pre>
  </div>
</details>

<details>
<summary class="custom-summary2">Login.jsp</summary>
 <div class="info-box">
    <p>ì•„ë˜ ì½”ë“œëŠ” ë¡œê·¸ì¸ í™”ë©´ì„ êµ¬ì„±í•˜ëŠ” JSP ë¡œ, ì‚¬ìš©ìê°€ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆë„ë¡ í¼ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
    <p>í¼ ì œì¶œ ì‹œ, ë¡œê·¸ì¸ ì •ë³´ë¥¼ `LoginController`ë¡œ ì „ì†¡í•˜ë©°, ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.</p>
  </div>
<div class = "toggle-content">
<pre class = "code-box">
<button class="copy-button">Copy</button>
<button class="close-button">Close</button>
<code class="language-javascript">
  &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
  &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;

  &lt;!DOCTYPE html&gt;
  &lt;html&gt;
  &lt;head&gt;
      &lt;jsp:include page=&quot;/template/Config.jsp&quot; /&gt;
      &lt;title&gt;Login&lt;/title&gt; // í˜ì´ì§€ ì œëª© ì„¤ì •
      &lt;script&gt;
          // í˜ì´ì§€ ë¡œë”© í›„, ì—ëŸ¬ ë©”ì‹œì§€ê°€ ìˆì„ ê²½ìš° ê²½ê³ ì°½ìœ¼ë¡œ í‘œì‹œ
          document.addEventListener(&#39;DOMContentLoaded&#39;, function() {
              var errorMsg = &#39;&lt;%= request.getAttribute(&quot;errorMsg&quot;) %&gt;&#39;; // request ê°ì²´ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ ê°€ì ¸ì˜¤ê¸°
              if (errorMsg &amp;&amp; errorMsg !== &#39;null&#39;) {
                  alert(errorMsg);  // ì—ëŸ¬ ë©”ì‹œì§€ ì¡´ì¬ ì‹œ ê²½ê³ ì°½ìœ¼ë¡œ í‘œì‹œ
              }
          });
      &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class=&quot;container&quot;&gt;
        &lt;div class=&quot;container-fluid&quot;&gt;
            &lt;jsp:include page=&quot;/template/Header.jsp&quot; /&gt;
            &lt;div class=&quot;p-5 bg-success text-white&quot;&gt;
                &lt;h1 style=&quot;font-weight: bold;&quot;&gt;ë¡œê·¸ì¸&lt;/h1&gt;
            &lt;/div&gt;
            &lt;fieldset class=&quot;border rounded-3 p-3 text-center mt-3 mb-3&quot;&gt;
                &lt;legend class=&quot;float-none w-auto px-3&quot; style=&quot;font-weight: bold;&quot;&gt;ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”&lt;/legend&gt; // ë¡œê·¸ì¸ í¼ ì œëª©
                &lt;form class=&quot;needs-validation&quot; action=&quot;${pageContext.request.contextPath}/LoginController&quot; method=&quot;post&quot;&gt;
                    &lt;div class=&quot;row justify-content-center&quot;&gt;
                        &lt;div class=&quot;col-md-8&quot;&gt;
                            &lt;div class=&quot;row mb-3&quot;&gt;
                                &lt;div class=&quot;col-md-4 mb-2 mt-5 d-flex align-items-center justify-content-md-end&quot;&gt;
                                    &lt;label for=&quot;username&quot; class=&quot;form-label&quot; style=&quot;font-weight: bold;&quot;&gt;ì•„ì´ë””&lt;/label&gt; // ì•„ì´ë”” ì…ë ¥ í•„ë“œ ë¼ë²¨
                                &lt;/div&gt;
                                &lt;div class=&quot;col-md-6 mb-3 mt-5&quot;&gt;
                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;username&quot; placeholder=&quot;ì•„ì´ë”” ì…ë ¥&quot; name=&quot;username&quot; value=&quot;${param.username}&quot;&gt; // ì•„ì´ë”” ì…ë ¥ í•„ë“œ
                                &lt;/div&gt;
                            &lt;/div&gt;

                            &lt;div class=&quot;row mb-3&quot;&gt;
                                &lt;div class=&quot;col-md-4 mb-2 mt-3 d-flex align-items-center justify-content-md-end&quot;&gt;
                                    &lt;label for=&quot;password&quot; class=&quot;form-label&quot; style=&quot;font-weight: bold;&quot;&gt;ë¹„ë°€ë²ˆí˜¸&lt;/label&gt; // ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ ë¼ë²¨
                                &lt;/div&gt;
                                &lt;div class=&quot;col-md-6 mb-3 mt-3&quot;&gt;
                                    &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;password&quot; placeholder=&quot;ë¹„ë°€ë²ˆí˜¸ ì…ë ¥&quot; name=&quot;password&quot;&gt; // ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ
                                &lt;/div&gt;
                            &lt;/div&gt;

                            &lt;div class=&quot;row mb-3&quot;&gt;
                                &lt;div class=&quot;col-md-12&quot;&gt;
                                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-dark&quot;&gt;ë¡œê·¸ì¸&lt;/button&gt; // ë¡œê·¸ì¸ ë²„íŠ¼
                                &lt;/div&gt;
                            &lt;/div&gt;

                            &lt;c:if test=&quot;${not empty errorMessage}&quot;&gt;
                                &lt;div class=&quot;row mb-3&quot;&gt;
                                    &lt;div class=&quot;col-md-12 d-flex justify-content-center&quot;&gt;
                                        &lt;div class=&quot;alert alert-danger&quot; style=&quot;max-width: 50%; padding: 20px;&quot;&gt;
                                            ${errorMessage}  // ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ, ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í‘œì‹œ
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/c:if&gt;

                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/form&gt;
            &lt;/fieldset&gt;
            &lt;jsp:include page=&quot;/template/Footer.jsp&quot; /&gt;
        &lt;/div&gt;
    &lt;/div&gt;
  &lt;/body&gt;
  &lt;/html&gt;
      </code>
</pre>
</div>
</details>

<details>
<summary class="custom-summary2">LoginOk.jsp</summary>
<div class="info-box">
    <p>ì•„ë˜ ì½”ë“œëŠ” ë¡œê·¸ì¸ ì„±ê³µ í›„ ì‚¬ìš©ìì—ê²Œ í™˜ì˜ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•˜ëŠ” JSP ì…ë‹ˆë‹¤.</p>
    <p>ë¡œê·¸ì¸ ì„±ê³µ ì‹œ, ì„¸ì…˜ì—ì„œ ì‚¬ìš©ìì˜ í† í°ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ë©°, ì‚¬ìš©ìì—ê²Œ í™˜ì˜ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
</div>
<div class = "toggle-content">
<pre class = "code-box">
<button class="copy-button">Copy</button>
<button class="close-button">Close</button>
<code class = "language-javascript">
  &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt; // í˜ì´ì§€ì˜ ì¸ì½”ë”© ë° ì–¸ì–´ ì„¤ì •
  &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt; // JSTL ì½”ì–´ íƒœê·¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ í¬í•¨

  &lt;!DOCTYPE html&gt;
  &lt;html&gt;
  &lt;head&gt;
      &lt;jsp:include page=&quot;/template/Config.jsp&quot;/&gt;
      &lt;title&gt;LoginOk.jsp&lt;/title&gt;
      &lt;script&gt;
          // í´ë¼ì´ì–¸íŠ¸ ì¸¡ JavaScript ì½”ë“œ ì‘ì„±
          var token = &#39;${sessionScope.token}&#39;; // ì„¸ì…˜ì—ì„œ í† í° ê°’ì„ ê°€ì ¸ì˜´
          localStorage.setItem(&#39;token&#39;, token); // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— í† í° ì €ì¥
      &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
      &lt;div class=&quot;container&quot;&gt;
          &lt;div class=&quot;container-fluid&quot;&gt;
              &lt;jsp:include page=&quot;/template/Header.jsp&quot;/&gt;
              
              &lt;!-- ì»¨í…ì¸  ì‹œì‘ --&gt;
              &lt;div class=&quot;p-5 bg-success text-white&quot;&gt;
                  &lt;h1 style=&quot;font-weight:bold;&quot;&gt;ë¡œê·¸ì¸ ì„±ê³µ&lt;/h1&gt; // ë¡œê·¸ì¸ ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
              &lt;/div&gt;
              
              &lt;fieldset class=&quot;border rounded-3 p-3 text-center mt-3 mb-3&quot;&gt;
                  &lt;h3 class=&quot;display-6&quot; style=&quot;font-weight:bold;&quot;&gt;${sessionScope.username}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!&lt;/h3&gt; // ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì´ë¦„ì„ ì¶œë ¥
                  
                  &lt;div class=&quot;row mt-4&quot;&gt;
                      &lt;div class=&quot;col-md-12&quot;&gt;
                          &lt;h5&gt;ìƒë‹¨ ë©”ë‰´ë¥¼ í†µí•´ ì´ë™í•´ì£¼ì„¸ìš”&lt;/h5&gt;
                      &lt;/div&gt;
                  &lt;/div&gt;
              &lt;/fieldset&gt;        
              &lt;!-- ì»¨í…ì¸  ë --&gt;
              
              &lt;jsp:include page=&quot;/template/Footer.jsp&quot;/&gt;      
          &lt;/div&gt;&lt;!-- container-fluid --&gt;
      &lt;/div&gt;&lt;!-- container --&gt;
      
      &lt;script&gt;
          document.getElementById(&#39;boardBtn&#39;).addEventListener(&#39;click&#39;, function() {
              window.location.href = &#39;${pageContext.request.contextPath}/BoardController&#39;;  // ê²Œì‹œíŒ í˜ì´ì§€ë¡œ ì´ë™
          });
      &lt;/script&gt;
  &lt;/body&gt;
  &lt;/html&gt;
</code>
</pre>
</div>
</details>

<div class="little">
<span class="little-title">(2) íšŒì›ê°€ì…</span>
</div>

<details>
<summary class="custom-summary2">SignUpController.java</summary>
<div class="toggle-content">
  <div class="info-box">
    <p>ì•„ë˜ ì½”ë“œëŠ” íšŒì›ê°€ì…ì„ ì²˜ë¦¬í•˜ëŠ” ì„œë¸”ë¦¿ì…ë‹ˆë‹¤.</p>
    <p>ì‚¬ìš©ìê°€ íšŒì›ê°€ì… í¼ì„ ì œì¶œí•˜ë©´ ì´ ì„œë¸”ë¦¿ì´ í˜¸ì¶œë˜ì–´ ìœ íš¨ì„± ê²€ì‚¬ì™€ ì¤‘ë³µ ê²€ì‚¬ í›„, ì‚¬ìš©ìì˜ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.</p>
  </div>

<pre class="code-box">
<button class="copy-button">Copy</button>
<button class="close-button">Close</button>
<code class="language-java">
  @WebServlet("/SignUpController") // ì´ ì„œë¸”ë¦¿ì€ "/SignUpController" URLì— ë§¤í•‘
  public class SignUpController extends HttpServlet {
      private static final long serialVersionUID = 1L; // ì§ë ¬í™” ID ì„¤ì •

      protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
          request.setCharacterEncoding("UTF-8"); // ìš”ì²­ì˜ ë¬¸ì ì¸ì½”ë”©ì„ UTF-8ë¡œ ì„¤ì •

          // ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ì˜´
          String username = request.getParameter("username"); // ì‚¬ìš©ì ì•„ì´ë””
          String password = request.getParameter("password"); // ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸
          String passwordConfirm = request.getParameter("passwordConfirm"); // ë¹„ë°€ë²ˆí˜¸ í™•ì¸
          String gender = request.getParameter("gender"); // ì„±ë³„
          String[] interests = request.getParameterValues("interests"); // ê´€ì‹¬ì‚¬
          String grade = request.getParameter("grade"); // í•™ë ¥
          String self = request.getParameter("self"); // ìê¸°ì†Œê°œ
          String token = request.getParameter("token"); // í† í°

          // ìœ íš¨ì„± ê²€ì‚¬
          if (username == null || username.trim().isEmpty()) { // ì•„ì´ë”” ì…ë ¥ í™•ì¸
              handleError(request, response, "ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”");
              return;
          }

          if (password == null || password.isEmpty()) { // ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í™•ì¸
              handleError(request, response, "ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”");
              return;
          }

          if (!password.equals(passwordConfirm)) { // ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ì¼ì¹˜ í™•ì¸
              handleError(request, response, "ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ ì£¼ì„¸ìš”");
              return;
          }

          if (gender == null || gender.isEmpty()) { // ì„±ë³„ ì…ë ¥ í™•ì¸
              handleError(request, response, "ì„±ë³„ì„ ì„ íƒí•˜ì„¸ìš”");
              return;
          }

          if (interests == null || interests.length < 2) { // ê´€ì‹¬ì‚¬ 2ê°œ ì´ìƒ ì„ íƒ í™•ì¸
              handleError(request, response, "ê´€ì‹¬ì‚¬í•­ì€ 2ê°œ ì´ìƒ ì„ íƒí•˜ì„¸ìš”");
              return;
          }

          if (grade == null || grade.isEmpty()) { // í•™ë ¥ ì…ë ¥ í™•ì¸
              handleError(request, response, "í•™ë ¥ì„ ì„ íƒí•˜ì„¸ìš”");
              return;
          }

          if (self == null || self.trim().isEmpty()) { // ìê¸°ì†Œê°œ ì…ë ¥ í™•ì¸
              handleError(request, response, "ìê¸°ì†Œê°œë¥¼ ì…ë ¥í•˜ì„¸ìš”");
              return;
          }

          // ì¤‘ë³µ ì²´í¬
          UserDAO userDAO = new UserDAO();
          if (userDAO.checkUsernameExists(username)) { // ì•„ì´ë”” ì¤‘ë³µ ì²´í¬
              handleError(request, response, "ì¤‘ë³µëœ ì•„ì´ë””ê°€ ìˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì•„ì´ë””ë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”");
              return;
          }

          // ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ëª¨ë‘ í†µê³¼í•˜ë©´ UserDTO ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì €ì¥
          UserDTO user = new UserDTO(username, password, passwordConfirm, gender, interests, grade, self, token);

          if (userDAO.saveUser(user)) { // ì‚¬ìš©ì ì €ì¥ ì„±ê³µ
            request.setAttribute("username", username); // ì„±ê³µ ì‹œ ì‚¬ìš©ì ì´ë¦„ ì „ë‹¬
              request.getRequestDispatcher("/page/SignUpOk.jsp").forward(request, response); // íšŒì›ê°€ì… ì„±ê³µ í˜ì´ì§€ë¡œ í¬ì›Œë”©
          } else { // ì‚¬ìš©ì ì €ì¥ ì‹¤íŒ¨
              handleError(request, response, "íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.");
          }
      }

      // ì˜¤ë¥˜ ë°œìƒ ì‹œ ì²˜ë¦¬ ë©”ì„œë“œ
      private void handleError(HttpServletRequest request, HttpServletResponse response, String message) throws ServletException, IOException {
          request.setAttribute("modalMessage", message); // ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ìš”ì²­ì— ì €ì¥
          request.getRequestDispatcher("/page/SignUp.jsp").forward(request, response); // ì˜¤ë¥˜ ë°œìƒ ì‹œ íšŒì›ê°€ì… í˜ì´ì§€ë¡œ í¬ì›Œë”©
      }
  }
</code>
</pre>
</div>
</details>


<details>
<summary class="custom-summary2">SignUp.jsp</summary>
<div class="toggle-content">
  <!-- ë„¤ëª¨ ì„¤ëª… ë°•ìŠ¤ -->
  <div class="info-box">
    <p>ì•„ë˜ ì½”ë“œëŠ” ì‚¬ìš©ì íšŒì›ê°€ì… JSP ì…ë‹ˆë‹¤.</p>
    <p>íšŒì›ê°€ì… í¼ì€ ì‚¬ìš©ì ì´ë¦„, ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥ë°›ê³ , ì œì¶œ ì‹œ 'signup.do'ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.</p>
    <p>í•„ìˆ˜ ì…ë ¥ í•­ëª©ì— ëŒ€í•´ ìœ íš¨ì„± ê²€ì‚¬ ê¸°ëŠ¥ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
  </div>

<pre class="code-box">
<button class="copy-button">Copy</button>
<button class="close-button">Close</button>
<code class="language-javascript">
  &lt;%@page import=&quot;java.util.Arrays&quot;%&gt;
  &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
  &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;
  &lt;!DOCTYPE html&gt;
  &lt;html&gt;
  &lt;head&gt;
      &lt;jsp:include page=&quot;/template/Config.jsp&quot; /&gt;
      &lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;
      &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
      &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
      &lt;title&gt;SignUp.jsp&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

      &lt;div class=&quot;container&quot;&gt;
          &lt;div class=&quot;container-fluid&quot;&gt;
              &lt;jsp:include page=&quot;/template/Header.jsp&quot; /&gt;

              &lt;!-- íšŒì›ê°€ì… ì–‘ì‹ ì‹œì‘ --&gt;
              &lt;div class=&quot;p-5 bg-success text-white mb-3&quot;&gt;
                  &lt;h1 style=&quot;font-weight: bold;&quot;&gt;íšŒì›ê°€ì…&lt;/h1&gt;
              &lt;/div&gt;
              &lt;form action=&quot;signup.do&quot; method=&quot;post&quot; class=&quot;needs-validation&quot; novalidate&gt; // íšŒì›ê°€ì… í¼ ì‹œì‘
                  &lt;div class=&quot;form-group&quot;&gt; // ì‚¬ìš©ì ì´ë¦„ ì…ë ¥ë€
                      &lt;label for=&quot;username&quot;&gt;ì‚¬ìš©ì ì´ë¦„&lt;/label&gt;
                      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;username&quot; name=&quot;username&quot; required&gt;
                      &lt;div class=&quot;invalid-feedback&quot;&gt;ì‚¬ìš©ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.&lt;/div&gt;
                  &lt;/div&gt>

                  &lt;div class=&quot;form-group&quot;&gt; // ì´ë©”ì¼ ì…ë ¥ë€
                      &lt;label for=&quot;email&quot;&gt;ì´ë©”ì¼&lt;/label&gt;
                      &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot; name=&quot;email&quot; required&gt;
                      &lt;div class=&quot;invalid-feedback&quot;&gt;ìœ íš¨í•œ ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”.&lt;/div&gt;
                  &lt;/div&gt>

                  &lt;div class=&quot;form-group&quot;&gt; // ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ë€
                      &lt;label for=&quot;password&quot;&gt;ë¹„ë°€ë²ˆí˜¸&lt;/label&gt;
                      &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;password&quot; name=&quot;password&quot; required&gt;
                      &lt;div class=&quot;invalid-feedback&quot;&gt;ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.&lt;/div&gt;
                  &lt;/div&gt;

                  &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary mt-3&quot;&gt;íšŒì›ê°€ì…&lt;/button&gt; // ì œì¶œ ë²„íŠ¼
              &lt;/form&gt;
              &lt;!-- íšŒì›ê°€ì… ì–‘ì‹ ë --&gt;

          &lt;/div&gt;
      &lt;/div&gt;

  &lt;/body&gt;
  &lt;/html&gt;
</code>
</pre>
</div>
</details>


<div class="little">
<span class="little-title">(3) ê²Œì‹œê¸€ CRUD</span>
</div>

<details>
<summary class="custom-summary2">WriteController.java</summary>
<div class="toggle-content">
  <div class="info-box">
    <p>ì•„ë˜ ì½”ë“œëŠ” ê²Œì‹œê¸€ ì‘ì„± ì²˜ë¦¬í•˜ëŠ” WriteController ì…ë‹ˆë‹¤.</p>
    <p>ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ ìƒíƒœì¼ ê²½ìš° ì œëª©ê³¼ ë‚´ìš©ì„ ë°›ì•„ ê²Œì‹œê¸€ì„ ë“±ë¡í•©ë‹ˆë‹¤.</p>
    <p>ì œëª©ê³¼ ë‚´ìš©ì´ ë¹„ì–´ìˆëŠ” ê²½ìš° ê²½ê³  ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  ì´ì „ í˜ì´ì§€ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.</p>
  </div>

<pre class="code-box">
<button class="copy-button">Copy</button>
<button class="close-button">Close</button>
<code class="language-java">
  @WebServlet("/WriteController") // URL ë§¤í•‘
  public class WriteController extends HttpServlet { 
      private static final long serialVersionUID = 1L;

      protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
          HttpSession session = request.getSession(); // ì„¸ì…˜ ê°€ì ¸ì˜¤ê¸°
          String username = (String) session.getAttribute("username"); // ì‚¬ìš©ì ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
          String token = (String) session.getAttribute("token"); // í† í° ê°€ì ¸ì˜¤ê¸°

          response.setContentType("text/html; charset=UTF-8");
          PrintWriter out = response.getWriter();

          // ì‚¬ìš©ì ì•„ì´ë””ê°€ ì—†ìœ¼ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
          if (username == null || username.isEmpty() || token == null || token.isEmpty()) {
              response.sendRedirect("/YoonSeongBinProj2/page/Login.jsp"); // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
          } else {
              // ì œëª©ê³¼ ë‚´ìš©ì„ íŒŒë¼ë¯¸í„°ì—ì„œ ê°€ì ¸ì˜¤ê¸°
              String title = request.getParameter("title");
              String content = request.getParameter("content");

              // ì œëª©ì´ë‚˜ ë‚´ìš©ì´ ë¹„ì–´ìˆëŠ” ê²½ìš°
              if (title == null || title.trim().isEmpty() || content == null || content.trim().isEmpty()) {
                  out.println("&lt;script&gt;");
                  out.println("alert('ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');"); // ê²½ê³  ë©”ì‹œì§€
                  out.println("history.back();"); // ì´ì „ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°
                  out.println("&lt;/script&gt;");
              } else {
                  // ê²Œì‹œê¸€ ë“±ë¡ ë¡œì§
                  ServletContext application = getServletContext();
                  BbsDTO item = new BbsDTO(); // ìƒˆë¡œìš´ ê²Œì‹œê¸€ ê°ì²´ ìƒì„±
                  item.setContent(content); // ë‚´ìš© ì„¤ì •
                  item.setTitle(title); // ì œëª© ì„¤ì •
                  item.setUsername(username); // ì‚¬ìš©ì ì´ë¦„ ì„¤ì •

                  BbsDAO dao = new BbsDAO(application); // DAO ê°ì²´ ìƒì„±
                  int affected = dao.insert(item); // ê²Œì‹œê¸€ ì‚½ì…
                  dao.close(); // DAO ì¢…ë£Œ

                  if (affected > 0) {
                      out.println("&lt;script&gt;");
                      out.println("alert('ê²Œì‹œê¸€ ë“±ë¡ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤');"); // ë“±ë¡ ì™„ë£Œ ë©”ì‹œì§€
                      out.println("location.href='/YoonSeongBinProj2/bbspage/BbsList.jsp';"); // ê²Œì‹œê¸€ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™
                      out.println("&lt;/script&gt;");
                  } else {
                      out.println("&lt;script&gt;");
                      out.println("alert('ê²Œì‹œê¸€ ë“±ë¡ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”');"); // ì‹¤íŒ¨ ë©”ì‹œì§€
                      out.println("history.back();"); // ì´ì „ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°
                      out.println("&lt;/script&gt;");
                  }
              }
          }
      }

      protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
          doPost(request, response); // doPost ë©”ì„œë“œ í˜¸ì¶œ
      }
  }
</code>
</pre>
</div>
</details>


<details>
<summary class="custom-summary2">BbsDAO.java</summary>
<div class="toggle-content">
  <div class="info-box">
    <p>ì•„ë˜ ì½”ë“œëŠ” ê²Œì‹œíŒ DAO(Data Access Object) ì…ë‹ˆë‹¤.</p>
    <p>ë°ì´í„°ì— ì ‘ê·¼í•´ì„œ CRUD ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì—…ë¬´ ì²˜ë¦¬ ë¡œì§ì„ ê°–ê³  ìˆëŠ” ê°ì²´ì…ë‹ˆë‹¤.</p>
  </div>
<pre class="code-box">
<button class="copy-button">Copy</button>
<button class="close-button">Close</button>
<code class="language-java">
  public class BbsDAO2 implements DAOService&lt;BbsDTO&gt; {

    // í•„ë“œ
    private Connection conn;
    private ResultSet rs;
    private PreparedStatement psmt;

    // ìƒì„±ì
    public BbsDAO2(ServletContext context) {
        try {
            Context initContext = new InitialContext();
            Context envContext = (Context) initContext.lookup("java:comp/env");
            DataSource dataSource = (DataSource) envContext.lookup("jdbc/ICTUSER");
            conn = dataSource.getConnection();
        } catch (NamingException | SQLException e) {
            e.printStackTrace();
        }
    }

    // ìì› ë°˜ë‚©ìš©

    @Override
    public void close() {
        try {
            if (rs != null) rs.close();
            if (psmt != null) psmt.close();
            if (conn != null) conn.close();
        } catch (SQLException e) {}
    }

    //ì „ì²´ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°

    /*
    * í˜ì´ì§• ë¡œì§ ì¶”ê°€í•˜ê¸°
    * DAOì—ì„œ í•  ì¼
    * 1. ì „ì²´ ëª©ë¡ ì¿¼ë¦¬ë¥¼ êµ¬ê°„ ì¿¼ë¦¬ í˜¹ì€ RANK() í•¨ìˆ˜ë¡œ ë³€ê²½
    * 2. ì´ ë ˆì½”ë“œ ìˆ˜ êµ¬í•˜ëŠ” ë©”ì†Œë“œ ì¶”ê°€    
    * JSPì—ì„œëŠ” 
    * List.jspì— í˜ì´ì§• ê´€ë ¨ ì½”ë“œ ì¶”ê°€
    */

    public List&lt;BbsDTO&gt; findAll(Map&lt;String, String&gt; map) {
        List&lt;BbsDTO&gt; items = new ArrayList&lt;&gt;();

        String sql = "SELECT b.id, b.title, b.content, b.hitcount, b.postdate, b.username "
                  + "FROM bbs b ";

        // ê²€ìƒ‰ ì¡°ê±´ ì¶”ê°€
        if (map.get("searchColumn") != null) {
            if ("username".equals(map.get("searchColumn"))) {
                sql += "WHERE b.username LIKE '%" + map.get("searchWord") + "%' ";
            } else {
                sql += "WHERE " + map.get("searchColumn") + " LIKE '%" + map.get("searchWord") + "%' ";
            }
        }

        sql += "ORDER BY b.id DESC";

        try {
            psmt = conn.prepareStatement(sql);
            rs = psmt.executeQuery();

            while (rs.next()) {
                BbsDTO item = new BbsDTO();
                item.setId(rs.getInt("id"));
                item.setTitle(rs.getString("title"));
                item.setContent(rs.getString("content"));
                item.setHitCount(rs.getInt("hitcount"));
                item.setPostDate(rs.getDate("postdate"));
                item.setUsername(rs.getString("username"));

                items.add(item);
            }
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            // ìì› í•´ì œ
            close();
        }

        return items;
    }

    // ì´ ë ˆì½”ë“œ ìˆ˜ ì–»ê¸°ìš©
    @Override
    public int getTotalRecordCount(Map&lt;String,String&gt; map) {
      int totalRecordCount=0;
      String sql="SELECT COUNT(*) FROM bbs b JOIN users u ON b.username=u.username ";
      // ê²€ìƒ‰ì‹œ ì•„ë˜ ì¿¼ë¦¬ ì¶”ê°€
      if(map !=null && map.get("searchColumn") !=null) {
        sql+=" WHERE "+map.get("searchColumn") + " LIKE '%"+map.get("searchWord")+"%' ";
      }
      try {
        psmt = conn.prepareStatement(sql);
        rs = psmt.executeQuery();
        rs.next();
        totalRecordCount= rs.getInt(1);
      }
      catch(SQLException e) {e.printStackTrace();}
      return totalRecordCount;
    }

    // ìƒì„¸ë³´ê¸°ìš© - ë ˆì½”ë“œ í•˜ë‚˜ ì¡°íšŒ
    @Override
    public BbsDTO findById(String ... params) {
      BbsDTO item=null;
      
      try {
        // ëª©ë¡ì—ì„œ ë„˜ì–´ì˜¨ ê²½ìš°ì—ë§Œ ì¡°íšŒìˆ˜ ì¦ê°€
        if(params.length &gt;=2 && params[1].toUpperCase().startsWith("BBSLIST")) {
          psmt = conn.prepareStatement("UPDATE bbs SET hitcount= hitcount+1 WHERE id=?");
          psmt.setString(1, params[0]);
          psmt.executeUpdate();
        }
          
        // ë ˆì½”ë“œ í•˜ë‚˜ ì¡°íšŒ
        psmt = conn.prepareStatement("SELECT b.*,name FROM bbs b JOIN users u ON b.username=u.username WHERE id=?");
        psmt.setString(1, params[0]);
        rs = psmt.executeQuery();
        if(rs.next()) {
          item = new BbsDTO();
          item.setContent(rs.getString(4));
          item.setHitCount(rs.getInt(5));
          item.setId(rs.getInt(1));
          item.setPostDate(rs.getDate(6));
          item.setTitle(rs.getString(3));
          item.setUsername(rs.getString(2));
        }
      }
      catch(SQLException e) {e.printStackTrace();}
      return item;
    }

    // ì´ì „ê¸€, ë‹¤ìŒê¸€ ì¡°íšŒ
    public Map&lt;String, BbsDTO&gt; prevNext(String curentId){
      Map&lt;String, BbsDTO&gt; map = new HashMap&lt;&gt;();
      try {
        // ì´ì „ê¸€ ì–»ê¸°
        psmt = conn.prepareStatement("SELECT id,title FROM bbs WHERE id=(SELECT MAX(id) FROM bbs WHERE id &lt; ?)");
        psmt.setString(1,curentId);
        rs = psmt.executeQuery();
        if(rs.next()) {
          map.put("PREV", new BbsDTO(rs.getLong(1), null, rs.getString(2), null, 0, null));
        }
        
        // ë‹¤ìŒê¸€ ì–»ê¸°
        psmt = conn.prepareStatement("SELECT id,title FROM bbs WHERE id=(SELECT MIN(id) FROM bbs WHERE id &gt; ?)");
        psmt.setString(1,curentId);
        rs = psmt.executeQuery();
        if(rs.next()) {
          map.put("NEXT", new BbsDTO(rs.getLong(1), null, rs.getString(2), null, 0, null));
        }
        
      }
      catch(SQLException e) {e.printStackTrace();}
      
      return map;
    }    
    
    // ì…ë ¥ìš©
    @Override
    public int insert(BbsDTO dto) {
      int affected=0;
      try {
        psmt = conn.prepareStatement("INSERT INTO BBS VALUES(SEQ_BBS.NEXTVAL,?,?,?,DEFAULT,DEFAULT)");
        psmt.setString(1, dto.getUsername());
        psmt.setString(2, dto.getTitle());
        psmt.setString(3, dto.getContent());
        affected=psmt.executeUpdate();
        
        rs = psmt.getGeneratedKeys();
        if (rs.next()) {
            dto.setId(rs.getLong(1)); // ì‚½ì…ëœ IDë¥¼ DTOì— ì„¤ì •
        }
        
      }
      catch(SQLException e) {e.printStackTrace();}
      return affected;
    }

    @Override
    public int update(BbsDTO dto) {
      int affected=0;
      try {
        psmt = conn.prepareStatement("UPDATE bbs SET title=?,content=? WHERE id=?");
        psmt.setLong(3, dto.getId());
        psmt.setString(1, dto.getTitle());
        psmt.setString(2, dto.getContent());
        affected=psmt.executeUpdate();
        
      }
      catch(SQLException e) {e.printStackTrace();}
      return affected;
    }

    // ì‚­ì œìš©
    @Override
    public int delete(BbsDTO dto) {
      int affected=0;
      try {
        psmt = conn.prepareStatement("DELETE FROM bbs WHERE id=?");
        psmt.setLong(1, dto.getId());
        affected = psmt.executeUpdate();
      }
      catch(SQLException e) {e.printStackTrace();}
      return affected;
    }

    // íšŒì› ì—¬ë¶€ íŒë‹¨ìš©
    public boolean isUser(String username, String password) {
      try {
        psmt = conn.prepareStatement("SELECT COUNT(*) FROM users WHERE username=? AND password=?");
        psmt.setString(1, username);
        psmt.setString(2, password);
        rs = psmt.executeQuery();
        rs.next();
        if(rs.getInt(1)==0) return false;
      
      }
      catch(SQLException e) {
        e.printStackTrace();
        return false;
      }
      return true;
    }

  }
</code>
</pre>
</div>
</details>


<details>
<summary class="custom-summary2">BbsView.jsp</summary>
<div class="info-box">
  <p>ì•„ë˜ ì½”ë“œëŠ” ê²Œì‹œíŒ ìƒì„¸ ì¡°íšŒ JSP ë¡œ, ê²Œì‹œê¸€ì˜ ë‚´ìš©ê³¼ ì´ì „ê¸€, ë‹¤ìŒê¸€ì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  <p>ì‚¬ìš©ì ì¸ì¦ì„ í™•ì¸í•˜ê³ , ê²Œì‹œê¸€ ìˆ˜ì •, ì‚­ì œ, ëª©ë¡ ì´ë™ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
</div>
<div class = "toggle-content">
<pre class = "code-box">
<button class="copy-button">Copy</button>
<button class="close-button">Close</button>
<code class = "language-javascript">
  &lt;%@page import="model.PagingUtil"%&gt;
  &lt;%@page import="java.util.Map"%&gt;
  &lt;%@page import="model.bbs.BbsDTO"%&gt;
  &lt;%@page import="java.util.List"%&gt;
  &lt;%@page import="model.bbs.BbsDAO"%&gt;
  &lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
  &lt;!--  ë¡œê·¸ì¸ ì—¬ë¶€ íŒë‹¨:í•„í„° ì‚¬ìš©ì‹œ ì•„ë˜ ì£¼ì„ì²˜ë¦¬ --&gt;
  &lt;%-- &lt;jsp:include page="/common/IsUser.jsp" /&gt;--%&gt;

  &lt;%
    // 1.íŒŒë¼ë¯¸í„°(í‚¤ê°’) ë°›ê¸°
    long id = Long.parseLong(request.getParameter("id"));
    // í˜„ì¬ í˜ì´ì§€ë²ˆí˜¸ ë°›ê¸°
    String nowPageParam = request.getParameter(PagingUtil.NOWPAGE);
      int nowPage = (nowPageParam != null && !nowPageParam.isEmpty()) ? Integer.parseInt(nowPageParam) : 1;
    // í˜ì´ì§€ ì‚¬ì´ì¦ˆ -ì‚­ì œìš©
    String pageSizeParam = request.getParameter(PagingUtil.PAGE_SIZE);
      int pageSize = (pageSizeParam != null && !pageSizeParam.isEmpty()) ? Integer.parseInt(pageSizeParam) : 10;
    // ê²€ìƒ‰ì‹œ
    String searchColumn = request.getParameter("searchColumn");
    String searchWord = request.getParameter("searchWord");
    String searchQuery="";
    if( searchColumn !=null && searchWord.length() !=0){		
      searchQuery=String.format("searchColumn=%s&searchWord=%s&", searchColumn,searchWord);
      
    }
    
    // 2.CRUDì‘ì—…ìš© BBSDao ìƒì„±
    BbsDAO dao = new BbsDAO(application);
    // ì´ì „ í˜ì´ì§€ëª… ì–»ê¸°:List.jspì—ì„œ ë·°ë¡œ ì˜¬ë•Œë§Œ ì¡°íšŒìˆ˜ ì¦ê°€ í•˜ê¸° ìœ„í•¨
    String referer=request.getHeader("referer");
    String prevPage = referer.substring(referer.lastIndexOf("/")+1);
    // ë ˆì½”ë“œ í•˜ë‚˜ ê°€ì ¸ì˜¤ê¸°
    BbsDTO item= dao.findById(String.valueOf(id),prevPage);	
    if(item==null){
      out.println("&lt;script&gt;");
      out.println("alert('ìœ íš¨í•˜ì§€ ì•ŠëŠ” ê¸€ ë²ˆí˜¸ì…ë‹ˆë‹¤');");
      out.println("history.back();");
      out.println("&lt;/script&gt;");
      dao.close();
      return;
      
    }
    // ë‚´ìš© ì¤„ë°”ê¿ˆ ì²˜ë¦¬
    item.setContent(item.getContent().replace("\r\n", "&lt;br/&gt;"));
    // ì´ì „ê¸€, ë‹¤ìŒê¸€ ì¡°íšŒ
    Map&lt;String,BbsDTO&gt; map= dao.prevNext(String.valueOf(id));	
    dao.close();
  %&gt;

  &lt;%
      // ì¿ í‚¤ì—ì„œ í† í° ê°€ì ¸ì˜¤ê¸°
      Cookie[] cookies = request.getCookies();
      String token = null;
      if (cookies != null) {
          for (Cookie cookie : cookies) {
              if ("token".equals(cookie.getName())) {
                  token = cookie.getValue();
                  break;
              }
          }
      }

      // ì„¸ì…˜ì—ì„œ ì‚¬ìš©ì ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
      String username = (String) session.getAttribute("username");

      // í† í° ìœ íš¨ì„± ê²€ì‚¬
      boolean isValidToken = false;
      if (username != null && token != null) {
          model.user.UserDAO userDAO = new model.user.UserDAO();
          isValidToken = userDAO.validateToken(username, token);
          
          if (!isValidToken) {
              // í† í°ì´ ìœ íš¨í•˜ì§€ ì•Šë‹¤ë©´ ì„¸ì…˜ ë¬´íš¨í™” ë° ì¿ í‚¤ ì‚­ì œ
              session.invalidate();
              Cookie tokenCookie = new Cookie("token", null);
              tokenCookie.setMaxAge(0);
              response.addCookie(tokenCookie);
              username = null; // ë¹„ë¡œê·¸ì¸ ìƒíƒœë¡œ ì„¤ì •
          }
      } else {
          // ì‚¬ìš©ì ì´ë¦„ì´ë‚˜ í† í°ì´ ì—†ìœ¼ë©´ ë¹„ë¡œê·¸ì¸ ìƒíƒœë¡œ ì²˜ë¦¬
          username = null;
      }
  %&gt;

  &lt;!DOCTYPE html&gt;
  &lt;html&gt;
  &lt;head&gt;
  &lt;%--@ include file="/template/Config.jsp" --%&gt;
  &lt;jsp:include page="/template/Config.jsp" /&gt;
  &lt;title&gt;BbsView.jsp&lt;/title&gt;
  &lt;style&gt;
  th.bg-dark.text-white {
    text-align: center;
  }
  &lt;/style&gt;
  &lt;script&gt;
      function isDelete(){
          var pageSize = "&lt;%=pageSize %&gt;";
          if(pageSize === null || pageSize === "") {
              pageSize = "10"; // ê¸°ë³¸ê°’ ì„¤ì •
          }
          if(confirm("ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")){
              location.replace("/YoonSeongBinProj2/bbspage/BbsDelete.jsp?id=&lt;%=item.getId()%&gt;&&lt;%=PagingUtil.NOWPAGE %&gt;=&lt;%=nowPage%&gt;&&lt;%=PagingUtil.PAGE_SIZE %&gt;=" + pageSize);
          }
      }
  &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class="container"&gt;
      &lt;div class="container-fluid"&gt;
        &lt;%--@ include file="/template/Header.jsp" --%&gt;
        &lt;jsp:include page="/template/Header.jsp" /&gt;

        &lt;!-- ì»¨í…ì¸  ì‹œì‘ --&gt;
        &lt;div class="p-5 bg-success text-white"&gt;
          &lt;h1 style="font-weight:bold"&gt;ì‘ì„±ê¸€ ìƒì„¸ ë³´ê¸°&lt;/h1&gt;
        &lt;/div&gt;
        &lt;fieldset class="border rounded-3 p-3 text-center mt-2"&gt;
        &lt;table class="table table-hover"&gt;
          &lt;tbody&gt;
            &lt;tr &gt;
              &lt;th class="bg-dark w-25 text-white" &gt;ë²ˆí˜¸&lt;/th&gt;
              &lt;td&gt;&lt;%=item.getId() %&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
              &lt;th class="bg-dark w-25 text-white"&gt;ì‘ì„±ì&lt;/th&gt;
              &lt;td&gt;&lt;%=item.getUsername() %&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
              &lt;th class="bg-dark w-25 text-white"&gt;ì‘ì„±ì¼&lt;/th&gt;
              &lt;td&gt;&lt;%=item.getPostDate() %&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
              &lt;th class="bg-dark w-25 text-white"&gt;ì¡°íšŒìˆ˜&lt;/th&gt;
              &lt;td&gt;&lt;%=item.getHitCount() %&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
              &lt;th class="bg-dark w-25 text-white"&gt;ì œëª©&lt;/th&gt;
              &lt;td&gt;&lt;%=item.getTitle() %&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
              &lt;th class="bg-dark text-white" colspan="2"&gt;ë‚´ìš©&lt;/th&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
              &lt;td colspan="2"&gt;&lt;%=item.getContent()%&gt;&lt;/td&gt;
            &lt;/tr&gt;

          &lt;/tbody&gt;
        &lt;/table&gt;
        &lt;!-- ì´ì „ê¸€/ë‹¤ìŒê¸€ --&gt;
        &lt;div&gt;
          &lt;table class="table" &gt;
            &lt;tbody&gt;
              
              &lt;tr&gt;
                &lt;td class="text-white bg-dark w-25 text-center" style="font-weight:bold"&gt;ë‹¤ìŒê¸€&lt;/td&gt;
                &lt;td&gt;
                &lt;%=map.get("NEXT") == null ? "ë‹¤ìŒê¸€ì´ ì—†ìŠµë‹ˆë‹¤" : String.format("&lt;a href='/YoonSeongBinProj2/bbspage/BbsView.jsp?id=%s&%s=%s&%s=%s'&gt;%s&lt;/a&gt;",
                          map.get("NEXT").getId(), PagingUtil.NOWPAGE, nowPage, PagingUtil.PAGE_SIZE, pageSize, map.get("NEXT").getTitle()) %&gt;
                &lt;/td&gt;
              &lt;/tr&gt;
              &lt;tr&gt;
                &lt;td class="text-white bg-dark w-25 text-center" style="font-weight:bold"&gt;ì´ì „ê¸€&lt;/td&gt;
                &lt;td&gt;
                &lt;%=map.get("PREV") == null ? "ì´ì „ê¸€ì´ ì—†ìŠµë‹ˆë‹¤" : String.format("&lt;a href='/YoonSeongBinProj2/bbspage/BbsView.jsp?id=%s&%s=%s&%s=%s'&gt;%s&lt;/a&gt;",
                          map.get("PREV").getId(), PagingUtil.NOWPAGE, nowPage, PagingUtil.PAGE_SIZE, pageSize, map.get("PREV").getTitle()) %&gt;
                &lt;/td&gt;
              &lt;/tr&gt;
            &lt;/tbody&gt;
          &lt;/table&gt;
        &lt;/div&gt;
        &lt;!-- ìˆ˜ì •/ì‚­ì œ/ëª©ë¡ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ --&gt;
        &lt;div class="text-center"&gt;
          
          &lt;% if (isValidToken && username != null && username.equals(item.getUsername())) { %&gt;
          &lt;a href="/YoonSeongBinProj2/bbspage/BbsEdit.jsp?id=&lt;%=item.getId() %&gt;&&lt;%=PagingUtil.NOWPAGE+"="+nowPage %&gt;" class="btn btn-success"&gt;ìˆ˜ì •&lt;/a&gt; 
          &lt;a href="javascript:isDelete()"	class="btn btn-success" &gt;ì‚­ì œ&lt;/a&gt;				
          &lt;a href="/YoonSeongBinProj2/bbspage/BbsList.jsp?&lt;%=PagingUtil.NOWPAGE+"="+nowPage+"&"+searchQuery %&gt;" class="btn btn-success"&gt;ëª©ë¡&lt;/a&gt;
          &lt;% } else { %&gt;
          &lt;a href="/YoonSeongBinProj2/bbspage/BbsList.jsp?&lt;%=PagingUtil.NOWPAGE+"="+nowPage+"&"+searchQuery %&gt;" class="btn btn-success"&gt;ëª©ë¡&lt;/a&gt;
          &lt;%}%&gt;
        &lt;/div&gt;
        &lt;/fieldset&gt;
        &lt;!-- ì»¨í…ì¸  ë --&gt;
        &lt;%--@ include file="/template/Footer.jsp" --%&gt;
        &lt;jsp:include page="/template/Footer.jsp" /&gt;
      &lt;/div&gt;
      &lt;!-- container-fluid --&gt;
    &lt;/div&gt;
    &lt;!--container  --&gt;
  &lt;/body&gt;
  &lt;/html&gt;
</code>
</pre>
</div>
</details>

<details>
<summary class="custom-summary2">BbsEdit.jsp</summary>
<div class="info-box">
  <p>ì•„ë˜ ì½”ë“œëŠ” ê²Œì‹œê¸€ ìˆ˜ì • ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” JSP ì…ë‹ˆë‹¤.</p>
  <p>ê²Œì‹œê¸€ IDë¡œ í•´ë‹¹ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê³ , ì œëª©ê³¼ ë‚´ìš©ì„ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” í¼ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
</div>
<div class = "toggle-content">
<pre class = "code-box">
<button class="copy-button">Copy</button>
<button class="close-button">Close</button>
<code class = "language-javascript">
  &lt;%@page import="model.PagingUtil"%&gt;
  &lt;%@page import="model.bbs.BbsDTO"%&gt;
  &lt;%@page import="java.util.List"%&gt;
  &lt;%@page import="model.bbs.BbsDAO"%&gt;
  &lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
  &lt;!--  ë¡œê·¸ì¸ ì—¬ë¶€ íŒë‹¨:í•„í„° ì‚¬ìš©ì‹œ ì•„ë˜ ì£¼ì„ì²˜ë¦¬ --&gt;
  &lt;%-- &lt;jsp:include page="/common/IsUser.jsp" /&gt;--%&gt;
  &lt;%
      // íŒŒë¼ë¯¸í„°(id) ê°’ì´ ì¡´ì¬í•˜ê³  ë¹„ì–´ìˆì§€ ì•Šìœ¼ë©´ long í˜•ìœ¼ë¡œ ë³€í™˜, ì•„ë‹ˆë©´ ê¸°ë³¸ê°’ 0L ì‚¬ìš©
      String idParam = request.getParameter("id");
      long id = (idParam != null && !idParam.isEmpty()) ? Long.parseLong(idParam) : 0L;

      // í˜„ì¬ í˜ì´ì§€ë²ˆí˜¸ ë°›ê¸°
      String nowPage = request.getParameter(PagingUtil.NOWPAGE);
      
      // CRUD ì‘ì—…ìš© BbsDao ìƒì„±
      BbsDAO dao = new BbsDAO(application);
      
      // ë ˆì½”ë“œ í•˜ë‚˜ ê°€ì ¸ì˜¤ê¸°
      BbsDTO item = dao.findById(String.valueOf(id));

      // DAO ì‚¬ìš© í›„ ë¦¬ì†ŒìŠ¤ ì •ë¦¬
      dao.close();
  %&gt;

  &lt;!DOCTYPE html&gt;
  &lt;html&gt;
  &lt;head&gt;
  &lt;%--@ include file="/template/Config.jsp" --%&gt;
  &lt;jsp:include page="/template/Config.jsp" /&gt;
  &lt;title&gt;BbsEdit.jsp&lt;/title&gt;

  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class="container"&gt;
      &lt;div class="container-fluid"&gt;
        &lt;%--@ include file="/template/Header.jsp" --%&gt;
        &lt;jsp:include page="/template/Header.jsp" /&gt;

        &lt;!-- ì»¨í…ì¸  ì‹œì‘ --&gt;
        &lt;div class="p-5 bg-success text-white mb-3"&gt;
          &lt;h1 style="font-weight: bold;"&gt;íšŒì›ì œ ê²Œì‹œíŒ ìˆ˜ì •&lt;/h1&gt;
        &lt;/div&gt;
        &lt;fieldset class="border rounded-3 p-3 text-center"&gt;
          &lt;legend class="float-none w-auto px-3" style="font-weight: bold;"&gt;ìˆ˜ì •í• 
            ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”&lt;/legend&gt;
          &lt;form action="/YoonSeongBinProj2/bbspage/BbsEditOk.jsp" method="post"&gt;

            &lt;input type="hidden" name="id" value="&lt;%=id%&gt;" /&gt; &lt;input
              type="hidden" name="&lt;%=PagingUtil.NOWPAGE%&gt;" value="&lt;%=nowPage%&gt;" /&gt;

            &lt;div class="row justify-content-center"&gt;
              &lt;div class="col-md-8"&gt;
                &lt;div class="row mb-3"&gt;

                  &lt;div class="col-md-4 mb-2 mt-5 d-flex align-items-center justify-content-md-end"&gt;
                    &lt;label for="title" class="form-label" style="font-weight: bold;"&gt;ì œëª©&lt;/label&gt;
                  &lt;/div&gt;

                  &lt;div class="col-md-6 mb-3 mt-5"&gt;
                    &lt;input type="text" class="form-control" id="title" placeholder="Enter title" name="title" value="&lt;%=item.getTitle()%&gt;"&gt;
                  &lt;/div&gt;
              &lt;/div&gt;
                  &lt;div class="row mb-3"&gt;
                    &lt;div class="col-md-4 mb-2 mt-4 d-flex justify-content-md-end"&gt;
                      &lt;label for="content" class="form-label" style="font-weight: bold;"&gt;ë‚´ìš©&lt;/label&gt;
                    &lt;/div&gt;

                    &lt;div class="col-md-6 mb-3 mt-3"&gt;
                      &lt;textarea placeholder="Enter content" class="form-control"
                        rows="18" id="content" name="content"&gt;&lt;%=item.getContent()%&gt;&lt;/textarea&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;

                  &lt;div class="row mb-3"&gt;
                    &lt;div class="col-md-12"&gt;
                      &lt;button type="submit" class="btn btn-dark ml-auto" style="padding: 10px 30px;"&gt;ìˆ˜ì •&lt;/button&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              
            &lt;/div&gt;
          &lt;/form&gt;
        &lt;/fieldset&gt;

        &lt;!-- ì»¨í…ì¸  ë --&gt;
        &lt;%--@ include file="/template/Footer.jsp" --%&gt;
        &lt;jsp:include page="/template/Footer.jsp" /&gt;
      &lt;/div&gt;
      &lt;!-- container-fluid --&gt;
    &lt;/div&gt;
    &lt;!--container  --&gt;
  &lt;/body&gt;
  &lt;/html&gt;
</code>
</pre>
</div>
</details>

<details>
<summary class="custom-summary2">BbsList.jsp</summary>
<div class="info-box">
  <p>ì•„ë˜ ì½”ë“œëŠ” ê²Œì‹œíŒì˜ ê¸€ ëª©ë¡ì„ í‘œì‹œí•˜ëŠ” JSP ì…ë‹ˆë‹¤.</p>
  <p>ê²€ìƒ‰ ë° í˜ì´ì§• ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, ê²Œì‹œê¸€ ëª©ë¡ì„ í…Œì´ë¸” í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•©ë‹ˆë‹¤.</p>
  <p>ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•œ ê²½ìš° ê²Œì‹œê¸€ ë“±ë¡ ë²„íŠ¼ì„ í‘œì‹œí•˜ê³ , ê²€ìƒ‰ ê¸°ëŠ¥ì„ í†µí•´ ì œëª©, ë‚´ìš©, ì‘ì„±ì ê¸°ì¤€ìœ¼ë¡œ ê²Œì‹œê¸€ì„ í•„í„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</div>

<div class = "toggle-content">
<pre class = "code-box">
<button class="copy-button">Copy</button>
<button class="close-button">Close</button>
<code class = "language-javascript">
  &lt;%@page import="model.PagingUtil"%&gt;
  &lt;%@page import="java.util.HashMap"%&gt;
  &lt;%@page import="java.util.Map"%&gt;
  &lt;%@page import="model.bbs.BbsDTO"%&gt;
  &lt;%@page import="java.util.List"%&gt;
  &lt;%@page import="model.bbs.BbsDAO"%&gt;
  &lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
  &lt;!--  ë¡œê·¸ì¸ ì—¬ë¶€ íŒë‹¨:í•„í„° ì‚¬ìš©ì‹œ ì•„ë˜ ì£¼ì„ì²˜ë¦¬ --&gt;
  &lt;%-- &lt;jsp:include page="/common/IsUser.jsp" /&gt;--%&gt;
  &lt;%
  // ê²€ìƒ‰ê³¼ ê´€ë ¨ëœ íŒŒë¼ë¯¸í„° ë°›ê¸°
  String searchColumn = request.getParameter("searchColumn"); // ê²€ìƒ‰ ì»¬ëŸ¼
  String searchWord = request.getParameter("searchWord"); // ê²€ìƒ‰ì–´
  Map&lt;String, String&gt; map = new HashMap&lt;&gt;(); // ê²€ìƒ‰ ì¡°ê±´ ë‹´ì„ ë§µ ìƒì„±
  String linkUrl = request.getContextPath() + "/YoonSeongBinProj2/bbspage/BbsList.jsp?"; // ë§í¬ URL ì´ˆê¸°í™”
  String searchQuery = ""; // ê²€ìƒ‰ ì¿¼ë¦¬ ì´ˆê¸°í™”
  if (searchColumn != null && searchWord != null && !searchWord.isEmpty()) {
    map.put("searchColumn", searchColumn); // ê²€ìƒ‰ ì»¬ëŸ¼ ì¶”ê°€
    map.put("searchWord", searchWord); // ê²€ìƒ‰ì–´ ì¶”ê°€
    searchQuery = String.format("searchColumn=%s&searchWord=%s&", searchColumn, searchWord); // ê²€ìƒ‰ ì¿¼ë¦¬ í˜•ì‹ ì§€ì •
    linkUrl += searchQuery; // ë§í¬ URLì— ê²€ìƒ‰ ì¿¼ë¦¬ ì¶”ê°€
  }
  // ì „ì²´ ê¸€ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°	
  BbsDAO dao = new BbsDAO(application);


   map.put(PagingUtil.PAGE_SIZE, this.getInitParameter("PAGE-SIZE"));  // í˜ì´ì§€ ì‚¬ì´ì¦ˆ ì„¤ì •
    map.put(PagingUtil.BLOCK_PAGE, this.getInitParameter("BLOCK-PAGE"));  // í˜ì´ì§€ ë¸”ë¡ ì‚¬ì´ì¦ˆ ì„¤ì •
    PagingUtil.setMapForPaging(map, dao, request);  // í˜ì´ì§• ì²˜ë¦¬ ì„¤ì •
    int totalRecordCount = Integer.parseInt(map.get(PagingUtil.TOTAL_RECORD_COUNT));  // ì „ì²´ ê¸€ ê°œìˆ˜
    int pageSize = Integer.parseInt(map.get(PagingUtil.PAGE_SIZE));  // í˜ì´ì§€ ì‚¬ì´ì¦ˆ
    int blockPage = Integer.parseInt(map.get(PagingUtil.BLOCK_PAGE));  // ë¸”ë¡ í˜ì´ì§€ ì‚¬ì´ì¦ˆ
    int nowPage = Integer.parseInt(map.get(PagingUtil.NOWPAGE));  // í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸
    // í˜ì´ì§•ì„ ìœ„í•œ ë¡œì§ ë
    List&lt;BbsDTO&gt; items = dao.findAll(map);  // ì „ì²´ ê²Œì‹œê¸€ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°

    dao.close();  // DB ì—°ê²° ì¢…ë£Œ
  %&gt;


  &lt;!DOCTYPE html&gt;
  &lt;html&gt;
  &lt;head&gt;
  &lt;%--@ include file="/template/Config.jsp" --%&gt;
  &lt;jsp:include page="/template/Config.jsp" /&gt;
  &lt;title&gt;BbsList.jsp&lt;/title&gt;

  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class="container"&gt;
      &lt;div class="container-fluid"&gt;
        &lt;%--@ include file="/template/Header.jsp" --%&gt;
        &lt;jsp:include page="/template/Header.jsp" /&gt;

        &lt;!-- ì»¨í…ì¸  ì‹œì‘ --&gt;
        &lt;div class="p-5 bg-success text-white mb-3"&gt;
          &lt;h1 style="font-weight: bold;"&gt;ê²Œì‹œíŒ ëª©ë¡&lt;/h1&gt;
        &lt;/div&gt;
        &lt;div class="my-2 text-end"&gt;
        &lt;% String username = (String) session.getAttribute("username");
                    String token = (String) session.getAttribute("token");
                    if (username != null && token != null) { %&gt;
          &lt;a href="BbsWrite.jsp" class="btn btn-danger"&gt;ê²Œì‹œê¸€ ë“±ë¡&lt;/a&gt;
          &lt;% } else {} %&gt;
            
        &lt;/div&gt;
        &lt;table class="table table-hover text-center"&gt;
          &lt;thead class="table-dark"&gt;
            &lt;tr&gt;
              &lt;th class="col-1"&gt;ë²ˆí˜¸&lt;/th&gt;
              &lt;th class="col-auto"&gt;ì œëª©&lt;/th&gt;
              &lt;th class="col-2"&gt;ì‘ì„±ì&lt;/th&gt;
              &lt;th class="col-1"&gt;ì¡°íšŒìˆ˜&lt;/th&gt;
              &lt;th class="col-2"&gt;ì‘ì„±ì¼&lt;/th&gt;
            &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody&gt;
            &lt;%
            // ê²Œì‹œê¸€ì´ ì—†ìœ¼ë©´ "ë“±ë¡ëœ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤" í‘œì‹œ
            if (items.isEmpty()) {
            %&gt;
            &lt;tr&gt;
              &lt;td colspan="5"&gt;ë“±ë¡ëœ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.&lt;/td&gt; 
            &lt;/tr&gt;
            &lt;%
            // ê²Œì‹œê¸€ì´ ìˆìœ¼ë©´ ëª©ë¡ ì¶œë ¥
            } else {
            int loop = 0;
            for (BbsDTO item : items) {
            %&gt;
            &lt;tr&gt;
              &lt;td&gt;&lt;%=totalRecordCount - (((nowPage - 1) * pageSize) + loop)%&gt;&lt;/td&gt;
              &lt;td class="text-start"&gt;&lt;a
                href="BbsView.jsp?id=&lt;%=item.getId() + "&" + PagingUtil.NOWPAGE + "=" + nowPage + "&" + searchQuery + PagingUtil.PAGE_SIZE + "="
      + pageSize%&gt;"&gt;&lt;%=item.getTitle()%&gt;&lt;/a&gt;&lt;/td&gt;
              &lt;td&gt;&lt;%=item.getUsername()%&gt;&lt;/td&gt;
              &lt;td&gt;&lt;%=item.getHitCount()%&gt;&lt;/td&gt;
              &lt;td&gt;&lt;%=item.getPostDate()%&gt;&lt;/td&gt;
            &lt;/tr&gt;
            &lt;%
            loop++;
            }
            }
            %&gt;
          &lt;/tbody&gt;
        &lt;/table&gt;
        &lt;!-- í˜ì´ì§• ì¶œë ¥ --&gt;
        &lt;%=PagingUtil.pagingBootStrapStyle(totalRecordCount, pageSize, blockPage, nowPage, linkUrl)%&gt;
        &lt;!-- ê²€ìƒ‰ UI --&gt;

        &lt;form method="post" class="row justify-content-center"&gt; // ê²€ìƒ‰ í¼

          &lt;div class="col-2"&gt;
            &lt;select class="form-control" name="searchColumn"&gt;
              &lt;option value="title"&gt;ì œëª©&lt;/option&gt;
              &lt;option value="content"&gt;ë‚´ìš©&lt;/option&gt;
              &lt;option value="username"&gt; ì‘ì„±ì&lt;/option&gt;
            &lt;/select&gt;
          &lt;/div&gt;
          &lt;div class="col-5"&gt;
            &lt;input type="text" class="form-control mx-2"
              placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" name="searchWord" /&gt;
          &lt;/div&gt;
          &lt;div class="col-auto"&gt;
            &lt;button type="submit" class="btn btn-primary"&gt;ê²€ìƒ‰&lt;/button&gt;
          &lt;/div&gt;

        &lt;/form&gt;
        &lt;!-- ì»¨í…ì¸  ë --&gt;
        &lt;jsp:include page="/template/Footer.jsp" /&gt;
      &lt;/div&gt;
      &lt;!-- container-fluid --&gt;
    &lt;/div&gt;
    &lt;!--container  --&gt;
  &lt;/body&gt;
  &lt;/html&gt;
</code>
</pre>
</div>
</details>

<details>
<summary class="custom-summary2">BbsDelete.jsp</summary>
<div class="info-box">
  <p>ì•„ë˜ ì½”ë“œëŠ” ê²Œì‹œê¸€ì„ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§„ JSP ì…ë‹ˆë‹¤.</p>
  <p>ì‚¬ìš©ìê°€ ì‚­ì œí•˜ë ¤ëŠ” ê²Œì‹œê¸€ì˜ IDë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ í•´ë‹¹ ê²Œì‹œê¸€ì„ ì‚­ì œí•œ í›„, ì‚­ì œê°€ ì„±ê³µì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ë©´ ê²Œì‹œê¸€ ëª©ë¡ í˜ì´ì§€ë¡œ ë¦¬ë””ë ‰ì…˜í•©ë‹ˆë‹¤.</p>
  <p>ì‚­ì œì— ì‹¤íŒ¨í•œ ê²½ìš°, ì•Œë¦¼ ì°½ì„ ë„ìš°ê³  ì´ì „ í˜ì´ì§€ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.</p>
  <p>ì‚­ì œ í›„ ì „ì²´ í˜ì´ì§€ ìˆ˜ë¥¼ ì¬ê³„ì‚°í•˜ê³ , í˜„ì¬ í˜ì´ì§€ê°€ ì‚­ì œ í›„ í˜ì´ì§€ ìˆ˜ë³´ë‹¤ ë§ìœ¼ë©´ ë§ˆì§€ë§‰ í˜ì´ì§€ë¡œ ì´ë™í•˜ê²Œ ì²˜ë¦¬ë©ë‹ˆë‹¤.</p>
</div>

<div class = "toggle-content">
<pre class = "code-box">
<button class="copy-button">Copy</button>
<button class="close-button">Close</button>
<code class = "language-javascript">
  &lt;%@page import="java.util.HashMap"%&gt;
  &lt;%@page import="java.util.Map"%&gt;
  &lt;%@page import="model.PagingUtil"%&gt;
  &lt;%@page import="model.bbs.BbsDTO"%&gt;
  &lt;%@page import="model.bbs.BbsDAO"%&gt;
  &lt;%@ page language="java" contentType="text/html; charset=UTF-8"
      pageEncoding="UTF-8"%&gt;
  &lt;!-- Delete.jsp --&gt;
  &lt;!--  ë¡œê·¸ì¸ ì—¬ë¶€ íŒë‹¨:í•„í„° ì‚¬ìš©ì‹œ ì•„ë˜ ì£¼ì„ì²˜ë¦¬ --&gt;
  &lt;%-- &lt;jsp:include page="/common/IsUser.jsp" /&gt;--%&gt;
  &lt;%
    
    // 1.íŒŒë¼ë¯¸í„°(í‚¤ê°’) ë°›ê¸°	
    long id = Long.parseLong(request.getParameter("id"));
    //í˜„ì¬ í˜ì´ì§€ë²ˆí˜¸ ë°›ê¸°
    int nowPage = request.getParameter(PagingUtil.NOWPAGE) == null ? 1 : Integer.parseInt(request.getParameter(PagingUtil.NOWPAGE));
    //í˜ì´ì§€ ì‚¬ì´ì¦ˆ -ì‚­ì œìš©
    int pageSize = request.getParameter(PagingUtil.PAGE_SIZE) == null ? 10 : Integer.parseInt(request.getParameter(PagingUtil.PAGE_SIZE));
    
    
    // 2.CRUDì‘ì—…ìš© BbsDaoìƒì„±
    BbsDAO dao = new BbsDAO(application);	
    BbsDTO dto = new BbsDTO();
    dto.setId(id);
    int affected=dao.delete(dto);
    // ì‚­ì œ í›„ì— ì´ í˜ì´ì§€ ìˆ˜ êµ¬í•¨
    int totalRecordCount = dao.getTotalRecordCount(null); // ê²€ìƒ‰ì‹œë„ ì ìš© ì‹œëŠ” ë°˜ë“œì‹œ ë§µ ì „ë‹¬
    
    int totalPage=(int)Math.ceil((double)totalRecordCount/pageSize);
    dao.close();
    if(totalPage &lt; nowPage) nowPage=totalPage;
    
    
    if(affected==1){
      response.sendRedirect("/YoonSeongBinProj2/bbspage/BbsList.jsp?"+PagingUtil.NOWPAGE+"="+nowPage);
    }
    else{
      out.println("&lt;script&gt;");
      out.println("alert('ì‚­ì œ ì‹¤íŒ¨í–ˆì–´ìš”');");
      out.println("history.back();");
      out.println("&lt;/script&gt;");
    }

  %&gt;
</code>
</pre>
</div>
</details>

<details>
<summary class="custom-summary2">BbsWrite.jsp</summary>
<div class="info-box">
  <p>ì•„ë˜ ì½”ë“œëŠ” ê²Œì‹œê¸€ì„ ì‘ì„±í•˜ëŠ” JSP ë¡œ, ì‚¬ìš©ìì—ê²Œ ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥ë°›ëŠ” í¼ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
  <p>í¼ì— ì…ë ¥ëœ ë°ì´í„°ë¥¼ 'WriteController'ë¡œ POST ë°©ì‹ìœ¼ë¡œ ì „ì†¡í•˜ì—¬ ê²Œì‹œê¸€ì„ ë“±ë¡í•˜ê²Œ ë©ë‹ˆë‹¤.</p>
  <p>í¼ ë‚´ì—ëŠ” ì œëª©ê³¼ ë‚´ìš© ì…ë ¥ í•„ë“œê°€ ìˆìœ¼ë©°, ì‚¬ìš©ìê°€ ì…ë ¥ì„ ì™„ë£Œí•œ í›„ 'ë“±ë¡' ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë°ì´í„°ê°€ ì„œë²„ë¡œ ì „ë‹¬ë˜ì–´ ê²Œì‹œê¸€ì´ ìƒì„±ë©ë‹ˆë‹¤.</p>
</div>

<div class = "toggle-content">
<pre class = "code-box">
<button class="copy-button">Copy</button>
<button class="close-button">Close</button>
<code class="language-javascript">
  &lt;%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%&gt;
  &lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%&gt;
  &lt;!DOCTYPE html&gt;
  &lt;html&gt;
  &lt;head&gt;
    &lt;jsp:include page="/template/Config.jsp" /&gt;
    &lt;title&gt;BbsWrite.jsp&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
      &lt;div class="container"&gt;
          &lt;div class="container-fluid"&gt;
              &lt;jsp:include page="/template/Header.jsp" /&gt;
              &lt;!-- ì»¨í…ì¸  ì‹œì‘ --&gt;
              &lt;div class="p-5 bg-success text-white mb-3"&gt;
                  &lt;h1 style="font-weight: bold;"&gt;ê²Œì‹œê¸€ ë“±ë¡&lt;/h1&gt;
              &lt;/div&gt;
              &lt;fieldset class="border rounded-3 p-3 text-center"&gt;
                  &lt;legend class="float-none w-auto px-3" style="font-weight: bold;"&gt;ë“±ë¡í•  ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”&lt;/legend&gt;  // í¼ ì œëª©
                  &lt;form action="${pageContext.request.contextPath}/WriteController" method="post"&gt;  // í¼ ì œì¶œ ì•¡ì…˜
                    &lt;div class="row justify-content-center"&gt;
                        &lt;div class="col-md-8"&gt;
                            &lt;div class="row mb-3"&gt;  // ì œëª© ì…ë ¥ í¼
                                &lt;div class="col-md-4 mb-2 mt-5 d-flex align-items-center justify-content-md-end"&gt;
                                    &lt;label for="title" class="form-label" style="font-weight: bold;"&gt;ì œëª©&lt;/label&gt;
                                &lt;/div&gt;
                                &lt;div class="col-md-6 mb-3 mt-5"&gt;  // ì œëª© ì…ë ¥ í•„ë“œ
                                    &lt;input type="text" class="form-control" id="title" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" name="title"&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class="row mb-3"&gt;  // ê¸€ ë‚´ìš© ì…ë ¥ í¼
                                &lt;div class="col-md-4 mb-2 mt-4 d-flex justify-content-md-end"&gt;
                                    &lt;label for="content" class="form-label" style="font-weight: bold;"&gt;ê¸€ ë‚´ìš©&lt;/label&gt;
                                &lt;/div&gt;
                                &lt;div class="col-md-6 mb-3 mt-3"&gt;  // ë‚´ìš© ì…ë ¥ í•„ë“œ
                                    &lt;textarea class="form-control" rows="18" id="content" name="content" placeholder="ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”"&gt;&lt;/textarea&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class="row mb-3"&gt;  // ë“±ë¡ ë²„íŠ¼
                                &lt;div class="col-md-12"&gt;
                                    &lt;button type="submit" class="btn btn-dark ml-auto" style="padding: 10px 30px;"&gt;ë“±ë¡&lt;/button&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                  &lt;/form&gt;
              &lt;/fieldset&gt;
              &lt;!-- ì»¨í…ì¸  ë --&gt;
              &lt;jsp:include page="/template/Footer.jsp" /&gt;
          &lt;/div&gt;
          &lt;!-- container-fluid --&gt;
      &lt;/div&gt;
      &lt;!--container  --&gt;
  &lt;/body&gt;
  &lt;/html&gt;
</code>

</pre>
</div>
</details>

---

### <span class="larger-text" style="display: block; margin-bottom:-10px;">4. **ì‹¤í–‰ ê²°ê³¼**</span>

<img src="assets/img/favicons/ê°œì¸í”„ë¡œì íŠ¸2ê²°ê³¼(1).png" style="border: 2px solid rgb(73, 75, 76); border-radius: 5px;" width="800px"  height="800px" />

<img src="assets/img/favicons/ê°œì¸í”„ë¡œì íŠ¸2ê²°ê³¼(2).png" style="border: 2px solid rgb(73, 75, 76); border-radius: 5px;" width="800px"  height="800px" />

<img src="assets/img/favicons/ê°œì¸í”„ë¡œì íŠ¸2ê²°ê³¼(3).png" style="border: 2px solid rgb(73, 75, 76); border-radius: 5px;" width="800px"  height="800px" />

<img src="assets/img/favicons/ê°œì¸í”„ë¡œì íŠ¸2ê²°ê³¼(4).png" style="border: 2px solid rgb(73, 75, 76); border-radius: 5px;" width="800px"  height="800px" />

<img src="assets/img/favicons/ê°œì¸í”„ë¡œì íŠ¸2ê²°ê³¼(5).png" style="border: 2px solid rgb(73, 75, 76); border-radius: 5px;" width="800px"  height="800px" />

<img src="assets/img/favicons/ê°œì¸í”„ë¡œì íŠ¸2ê²°ê³¼(6).png" style="border: 2px solid rgb(73, 75, 76); border-radius: 5px;" width="800px"  height="800px" />



